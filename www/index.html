<html ng-app="ionic.todo">
  <head>
    <meta charset="utf-8">
    <title>Ionic Todo</title>

    <!-- Sets initial viewport load and disables zooming  -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="stylesheet" href="css/ionic.css">
    <link rel="stylesheet" href="css/app.css">
    
    <script src="js/angular/1.2.0rc2/angular-1.2.0rc2.min.js"></script>
    <script src="js/angular/1.2.0rc2/angular-route.js"></script>
    <script src="js/angular/1.2.0rc2/angular-animate.js"></script>
    <script src="js/angular/1.2.0rc2/angular-touch.js"></script>

    <script src="https://cdn.firebase.com/v0/firebase.js"></script>
    <script src="https://cdn.firebase.com/v0/firebase-simple-login.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/0.3.0/angularfire.min.js"></script>

    <script src="js/ionic.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services.js"></script>
    <script src="js/controllers.js"></script>
  </head>
  <body ng-controller="TodoCtrl">
    <div ng-switch on="display.screen" class="reveal-animation">
      <div id="start" ng-switch-when="splash" class="pane">
      </div>
      <div id="login" ng-switch-when="login" ng-controller="LoginCtrl" class="pane">
        <main class="content padded has-header">
          <div class="container" style="text-align: center">
            <h1>ToDerp</h1>
            <h3>Finish your Top Three Tasks Today</h3>
          </div>
          <form class="form-horizontal" ng-submit="tryLogin(loginForm)">
            <div class="input-group inset">
              <label class="input-wrapper row">
                <span class="input-label col-xs-4">Email</span>
                <input class="col-xs-8" type="email" placeholder="" ng-model="loginForm.email" required>
              </label>
              <label class="input-wrapper row">
                <span class="input-label col-xs-4">Password</span>
                <input class="col-xs-8" type="password" placeholder="" ng-model="loginForm.password" required>
              </label>
            </div>
            <div class="input-group inset">
              <button class="button button-info button-block">Log in</button>
              <div id="login-error" ng-show="loginError">Invalid email/password. Please try again.</div>
            </div>
          </form>
          <div id="signup-bottom" class="input-group inset">
            <button ng-click="showSignup()" id="signup-button" class="button button-default button-block">Create an account</button>
          </div>
        </main>
      </div>

      <div id="signup" ng-switch-when="signup" ng-controller="SignupCtrl" class="pane">
        <header class="bar bar-header bar-danger">
          <a href="#" class="button" ng-click="setScreen('login')">Back</a>
          <h1 class="title">Sign up (it's free!)</h1>
        </header>
        <main class="content padded has-header">
          <form class="form-horizontal" ng-submit="trySignup(signupForm)">
            <div class="input-group inset">
              <label class="input-wrapper row">
                <span class="input-label col-xs-4">Email</span>
                <input class="col-xs-8" type="email" placeholder="" ng-model="signupForm.email" required>
              </label>
              <label class="input-wrapper row">
                <span class="input-label col-xs-4">Password</span>
                <input class="col-xs-8" type="password" placeholder="" ng-model="signupForm.password" required>
              </label>
            </div>
            <div class="input-group inset">
              <button class="button button-info button-block">Sign up</button>
              <div id="signup-error" ng-show="signupError">Unable to signup, please try again.</div>
            </div>
          </form>
        </main>
      </div>

      <div id="tasks" ng-switch-when="tasks" ng-controller="TasksCtrl" class="panel">
        <header class="bar bar-header bar-danger">
          <a href="#" class="button button-icon"><i class="icon-reorder"></i></a>
          <h1 class="title">Your Tasks</h1>
        </header>
        <main class="content padded has-header">
          <form ng-submit="addTask(task)">
            <input type="text" ng-model="task.text">
            <button type="submit" class="button button-block button-success">Add</button>
          </form>
          <div id="tasks">
            <ul class="list">
              <li class="list-item" ng-repeat="task in todos">
                {{task.text}}
                <input type="checkbox" ng-model="task.completed" class="pull-right">
              </li>
            </ul>
          </div>
        </main>
      </div>
    </div>
    <!--
    <div id="page" class="page" ng-controller="TodaysTaskListCtrl">
      <div class="bar bar-header bar-dark">
        <div class="buttons">
          <a id="menu-button" class="button button-dark" href="#">
            <i class="icon-reorder"></i>
          </a>
        </div>
        <h1 class="title">Today's Tasks</h1>
        <div class="buttons">
          <button id="right-button" class="button button-dark" ng-click="promptNewTask()">
            <i class="icon-plus"></i>
          </button>
        </div>
      </div>

      <div class="content has-header">
        <ul class="list todays-tasks">
          <li class="list-item" ng-repeat="task in tasks | todaysTasks">
            <input type="checkbox" ng-model="task.isDone"> {{task.text}}
          </li>
        </ul>
      </div>
    </div>
    <div id="tasks-menu" class="menu menu-left" ng-controller="TaskListCtrl">
      <ul id="tasks" class="list">
        <li class="list-divider">Tasks</li>
        <li class="list-item" ng-repeat="task in tasks">
          {{task.text}}
          <a href="#" class="pull-right"><i class="icon-plus"></i></a>
        </li>
      </ul>
    </div>
    -->
    <script type="text/javascript" src="cordova.js"></script>
    <script>
      document.addEventListener('deviceready', function () {
        console.log('Detecting platform');
        ionic.Platform.detect();
      });
    </script>
  </body>
</html>
